{% extends "base.html" %}

{% block main_content %}
    <h1>Past Attempts</h1>
    <p>Logged in as: {{g.user}}</p>
    
    <form action="" method="POST" novalidate>
        {{ form.hidden_tag() }}
        {{ form.quiz.label }}
        {{ form.quiz() }}
        {% for error in form.quiz.errors %}
            {{ error }}
        {% endfor %}
        <br />
        {{ form.user_id.label }}
        {{ form.user_id() }}
        {% for error in form.user_id.errors %}
            {{ error }}
        {% endfor %}
        <br />
        {{ form.submit(class="button") }}
    </form>
    {% if attempts %}
        <table>
            <caption>Attempts: {{ caption }}</caption>
            <tr>
                <th>User ID</th>
                <th>Points</th>
                <th>Date and Time</th>
            </tr>
            {% for attempt in attempts %}
                <tr>
                    <td>{{ attempt["user_id"] }}</td>
                    <td>{{ attempt["points"] }}</td>
                    <td>{{ attempt["date"] }}</td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
{% endblock %}